import{u as V,l as _,A as l,_ as C,o as B,w as S,P as m,k as F,x as M,c as v,a as d,b as o,t as g,F as x,r as y,d as r,e as h,y as L,g as n,h as p,z as A,p as E,j}from"./index.af55ce0a.js";class H{async getProfileById(s){const c=await V.get(`api/profiles/${s}`);_.log("[GOT PROFILE]",c.data),l.profile=c.data}}const R=new H;const D={setup(){const a=L();A(),B(()=>{s(),c(),t()}),S(()=>{c(),t()});async function s(){try{const e=a.params.profileId;await R.getProfileById(e)}catch(e){_.error(e),m.error(e.message)}}async function c(){try{const e=l.profile.id;await F.getProfileKeeps(e)}catch(e){_.error(e),m.error(e)}}async function t(){try{const e=l.profile.id;await M.getProfileVaults(e)}catch(e){_.error(e),m.error(e.message)}}return{profile:v(()=>l.profile),keeps:v(()=>l.profileKeeps),vaults:v(()=>l.profileVaults),brokenLink(e,f){f=="picture"?e.picture="https://i.natgeofe.com/n/548467d8-c5f1-4551-9f58-6817a8d2c45e/NationalGeographic_2572187_square.jpg":f=="coverImg"&&(e.coverImg="https://images.unsplash.com/photo-1611915387288-fd8d2f5f928b?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxleHBsb3JlLWZlZWR8MXx8fGVufDB8fHx8&w=1000&q=80")}}}},k=a=>(E("data-v-e32b3439"),a=a(),j(),a),G={class:"container-fluid"},N={class:"row justify-content-center"},q={class:"col-12 text-center"},O=["src"],W=k(()=>o("br",null,null,-1)),Z=["src"],z={class:"col-12 stats text-center"},J={class:"m-0 p-0"},T={class:"m-0 p-0 fs-2"},X={class:"row px-md-5 ms-md-3"},Q=k(()=>o("h1",null,"Vaults",-1)),U={class:"col-6 col-md-3 mb-4"},Y=k(()=>o("div",{class:"row px-md-5 ms-md-3"},[o("h1",null,"Keeps")],-1)),$={class:"bricks"};function ee(a,s,c,t,e,f){const w=n("VaultCard"),I=n("KeepCard"),P=n("ActiveKeep"),u=n("Modal"),b=n("CreateKeepForm"),K=n("CreateVaultForm");return p(),d("div",G,[o("div",N,[o("div",q,[o("img",{class:"profileHeader",src:t.profile.coverImg,alt:"",onError:s[0]||(s[0]=i=>t.brokenLink(t.profile,"coverImg"))},null,40,O),W,o("img",{class:"profilePic",src:t.profile.picture,alt:"",onError:s[1]||(s[1]=i=>t.brokenLink(t.profile,"picture"))},null,40,Z)]),o("div",z,[o("h1",J,g(t.profile.name),1),o("p",T,g(t.vaults.length)+" Vaults | "+g(t.keeps.length)+" Keeps",1)])]),o("div",X,[Q,(p(!0),d(x,null,y(t.vaults,i=>(p(),d("div",U,[r(w,{vault:i},null,8,["vault"])]))),256))]),Y,o("div",$,[(p(!0),d(x,null,y(t.keeps,i=>(p(),d("div",null,[r(I,{keep:i},null,8,["keep"])]))),256))]),r(u,{id:"activeKeep"},{default:h(()=>[r(P)]),_:1}),r(u,{id:"createKeep"},{default:h(()=>[r(b)]),_:1}),r(u,{id:"createVault"},{default:h(()=>[r(K)]),_:1})])}const oe=C(D,[["render",ee],["__scopeId","data-v-e32b3439"]]);export{oe as default};
